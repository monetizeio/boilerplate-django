{% comment %} base.html ---------------------------------------------------===
  Copyright © 2011, RokuSigma Inc. (Mark Friedenbach <mark@roku-sigma.com>)
  as an unpublished work.

  RokuSigma Inc. (the "Company") Confidential

  NOTICE: All information contained herein is, and remains the property of the
  Company. The intellectual and technical concepts contained herein are
  proprietary to the Company and may be covered by U.S. and Foreign Patents,
  patents in process, and are protected by trade secret or copyright law.
  Dissemination of this information or reproduction of this material is
  strictly forbidden unless prior written permission is obtained from the
  Company. Access to the source code contained herein is hereby forbidden to
  anyone except current Company employees, managers or contractors who have
  executed Confidentiality and Non-disclosure agreements explicitly covering
  such access.

  The copyright notice above does not evidence any actual or intended
  publication or disclosure of this source code, which includes information
  that is confidential and/or proprietary, and is a trade secret, of the
  Company. ANY REPRODUCTION, MODIFICATION, DISTRIBUTION, PUBLIC PERFORMANCE,
  OR PUBLIC DISPLAY OF OR THROUGH USE OF THIS SOURCE CODE WITHOUT THE EXPRESS
  WRITTEN CONSENT OF THE COMPANY IS STRICTLY PROHIBITED, AND IN VIOLATION OF
  APPLICABLE LAWS AND INTERNATIONAL TREATIES. THE RECEIPT OR POSSESSION OF
  THIS SOURCE CODE AND/OR RELATED INFORMATION DOES NOT CONVEY OR IMPLY ANY
  RIGHTS TO REPRODUCE, DISCLOSE OR DISTRIBUTE ITS CONTENTS, OR TO MANUFACTURE,
  USE, OR SELL ANYTHING THAT IT MAY DESCRIBE, IN WHOLE OR IN PART.
===-----------------------------------------------------------{% endcomment %}

{% load macros %}

<!-- This prevents the IE-specific conditional markup below from holding up
  the page load. See
  <http://www.phpied.com/conditional-comments-block-downloads/>. -->
<!--[if IE]><![endif]-->

<!-- The HTML5 doctype is just “html” -->
{% block doctype %}<!DOCTYPE html>{% endblock %}

<!--
  The “dir” and “lang” attributes specify the text-direction and language of
  the site. It is currently configured for US English, but that will have to
  become a dynamic setting when we internationalize and localize the site.

  The “no-js” class tells Modernizr (see below) to detect HTML5 features. It
  will be removed by Modernizr. If JavaScript is not enabled in the browser,
  Modernizr will of course not run and the “no-js” class will remain in place,
  with obvious semantics.
  -->
{% macro html_dir   %}{% block html_dir   %}ltr{%   endblock %}{% endmacro %}
{% macro html_lang  %}{% block html_lang  %}en-US{% endblock %}{% endmacro %}
{% macro html_class %}{% block html_class %}no-js{% endblock %}{% endmacro %}
<!--[if gt IE 8]><!-->
<html
  dir="{% usemacro html_dir %}"
  lang="{% usemacro html_lang %}"
  class="{% usemacro html_class %}"
  >
<!--<![endif]-->
<!--[if lt IE 7]>
<html
  dir="{% usemacro html_dir %}"
  lang="{% usemacro html_lang %}"
  class="{% usemacro html_class %} ie6 oldie"
  >
<![endif]-->
<!--[if IE 7]>
<html
  dir="{% usemacro html_dir %}"
  lang="{% usemacro html_lang %}"
  class="{% usemacro html_class %} ie7 oldie"
  >
<![endif]-->
<!--[if IE 8]>
<html
  dir="{% usemacro html_dir %}"
  lang="{% usemacro html_lang %}"
  class="{% usemacro html_class %} ie8 oldie"
  >
<![endif]-->

<head>{% block head %}
  {% comment %}
    The “time_sensitive” block contains header elements which for whatever
    reason need to be parsed as soon as possible, often because a delay may
    affect render speed, client behavior, or user experience.
  {% endcomment %}
  {% block time_sensitive %}
    {% block time_sensitive_behavior %}
      <!--
        This META field makes explicitly clear that we are using the Unicode
        charset with UTF-8 encoding. It comes as early as it can in the markup
        because when the browser encounters this meta tag it will start the
        parsing over with the new charset settings.
        -->
      <meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8"
        />

      <!--
        Translation: this web page is in U.S. English. This element is placed
        in the “time_sensitive_behavior” block because conceivably there exist
        web crawlers that are only interested in collecting content in certain
        languages, and for these crawlers the “language” meta tag offers an
        early-exit capability.

        FIXME: Add support for other languages then make this dynamic based on
               the actual language being used.
        -->
      <meta
        name="language"
        content="{% usemacro html_lang %}"
        />
    {% endblock time_sensitive_behavior %}

    {% block time_sensitive_experience %}
      <!-- Enable standards-compliant mode and Chrome-frame plugin in IE: -->
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

      <!-- Set the viewport on mobile browsers to the device-width, and
        compensate for high-DPI displays: -->
      <meta name="viewport" content="width=device-width,initial-scale=1">

      <!--
        The TITLE tag should be very carefully chosen as it can greatly affect
        search rankings. It is important that the title of the landing page of
        the site contain the most important search term(s) that we are
        targeting, and that content pages have configurable titles.

        FIXME: Add targeted search engine keywords to TITLE tag for landing
               page.
        FIXME: Add configurable TITLE tag for content pages.
        -->
      <title>{% block title %}6 horizons{% endblock %}</title>

      <!--
        The favicon.ico file is used to associate an icon with the website,
        typically for display in the browser's URL bar.
          - Size: 16x16 or 32x32 for display in the browser, up to 64x64 for
            display on the task bar in Windows.
          - Multiple icon sizes may be encoded within a single favicon.ico
            file.
          - Transparency is OK.
          - See wikipedia for info on browser support:
            <http://en.wikipedia.org/wiki/Favicon#Browser_support>

        FIXME: Waiting for higher resolution images from the design team.
        -->
      <link
        rel="shortcut icon"
        type="image/x-icon"
        href="{% block favicon_uri %}/static/img/favicon.ico{% endblock %}"
        />

      <!--
        The apple-touch-icon.png associates an UI icon with the website on iOS
        devices. This image is what is shown when the site is bookmarked on
        the home screen.
          - Size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for
            iPhone4's retina display (For best support, just go ahead and use
            the biggest one).
          - Transparency is not recommended (iOS will put a black BG behind
            the icon).
          - iOS will apply gloss and rounded corners to the image before
            displaying it. For more control, you may apply the rounded gloss
            yourself and rename the file <apple-touch-icon-precomposed.png>.

        FIXME: Waiting for higher resolution images from the design team.
        -->
      <link
        rel="apple-touch-icon"
        type="image/png"
        href="{% block apple_touch_icon_uri %}/static/img/apple-touch-icon.png{% endblock %}"
        />
    {% endblock time_sensitive_experience %}

    {% block time_sensitive_speed %}
    {% endblock time_sensitive_speed %}
  {% endblock time_sensitive %}

  <!--
    FIXME: At some point we will have to register ourselves with Google. See
           <http://www.google.com/webmasters/> for details.
    -->
  <!--
  <meta
    name="google-site-verification"
    content=""
    />
  -->

  {% comment %}
    The “semantic_web” block contains a mix of header elements which describe
    what this resource is, and how it relates to other resources accessible
    from elsewhere on the world wide web.
  {% endcomment %}
  {% block semantic_web %}
    <!--
      When a resource is accessible from multiple locations, the “canonical”
      rel link provides a way to inform web crawlers and other automated tools
      which URI to use as its primary identifier.

      FIXME: Add code to output the canonical URL.
      -->
    <!--
    <link
      rel="canonical"
      href="http://6horizons.com/FIXME"
      />
    -->

    <!--
      The following “index”, “prev”, and “next” related links provide some
      context to the user agent (with obvious semantics), and are particularly
      important to web crawlers. They are commented out because some thought
      needs to go how they will be used in 6horizons.

      FIXME: Figure out how to define “index”, “prev”, and “next” related
             links for 6horizons.
      -->
    <!--
    <link
      rel="index"
      title="FIXME"
      href="/FIXME"
      />
    <link
      rel="prev"
      title="FIXME"
      href="/FIXME"
      />
    <link
      rel="next"
      title="FIXME"
      href="/FIXME"
      />
    -->

    <!--
      The keywords META tag is a SEO field that is rarely used by the big
      search companies these days. Nevertheless, it is used by older, esoteric
      software and it certainly doesn't hurt to include it, when keyword data
      is available.

      FIXME: Come up with some SEO keywords for the landing page, about page,
             etc.
      FIXME: Determine a procedure for generating SEO keywords for content,
             profile, and other dynamic pages.
      -->
    <meta
      name="keywords"
      content="{% block meta_keywords %}{% endblock %}"
      />

    <!--
      Google will often use the following field as its description of our
      site. Make it good. There is a belief that it might also affect
      “related:” queries (unknown if there is any truth to that). It should be
      less than 155 characters of plain text.

      FIXME: Replace “bridging reality” with a more product-oriented tag line.
      -->
    <meta
      name="description"
      content="{% block meta_description %}6 horizons: modern task managment{% endblock %}"
      />

    <!--
      Like the keywords tag, the author and copyright META fields generally
      aren't used anymore, but there is no harm in making them available for
      web crawlers and automated tools.

      FIXME: Make sure that <info@roku-sigma.com> is a valid account that a
             human will read.
      FIXME: Make the copyright year dynamic, based on the current date.
      -->
    <meta
      name="author"
      content="{% block meta_author %}RokuSigma Inc. <info@roku-sigma.com>{% endblock %}"
      />
    <meta
      name="copyright"
      content="{% block meta_copyright %}© {% block copyright_date %}2011{% endblock %} {% block copyright_holder %}RokuSigma Inc.{% endblock %}, All Rights Reserved{% endblock meta_copyright %}"
      />
  {% endblock semantic_web %}

  {% block feeds %}
    <!--
      The following feed links are taken from the WordPress site verbatim, and
      left here mostly as an example so that we won't have to look up the
      syntax of a RSS feed link when we later add our own. 6horizons will have
      it's own RSS and ATOM feeds, but we'll probably not be syndicating posts
      and comments the way WordPress does so this will need some modification.

      FIXME: Determine which feeds will be provided from which pages in what
             formats, and re-write accordingly.
      -->
    <!--
    <link
      rel="alternate"
      type="application/rss+xml"
      title="6 horizons » Feed"
      href="http://6horizons.com/feed"
      />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="6 horizons » Comments Feed"
      href="http://6horizons.com/comments/feed"
      />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="6 horizons » Home Comments Feed"
      href="http://6horizons.com/home/feed"
      />
    -->
  {% endblock feeds %}

  {% block stylesheets %}
    <!--
      We use a specially licensed web font, Lucida Roman, whose stylesheet
      definitions are in the /static/font/stylesheet.css file.

      FIXME: Make sure we have the licensing info for LucidaRoman on file in
             the corporate records.
      -->
    <link
      rel="stylesheet"
      type="text/css"
      media="all"
      href="/static/font/LucidaRoman/stylesheet.css"
      />

    <!--
      Our reset script produces sensible defaults that are the same across all
      supported browsers.
      -->
    <link
      id="css-blueprint-screen"
      rel="stylesheet"
      type="text/css"
      media="screen, projection"
      href="/static/lib/blueprint/9bf9513/screen.css"
      />
    <link
      id="css-blueprint-print"
      rel="stylesheet"
      type="text/css"
      media="print"
      href="/static/lib/blueprint/9bf9513/print.css"
      />
    <!--[if lt IE 8]>
    <link
      id="css-blueprint-ie7"
      rel="stylesheet"
      type="text/css"
      media="screen, projection"
      href="/static/lib/blueprint/9bf9513/ie.css"
      />
    <![endif]-->

    <!--
      The primary stylesheets of the site. The stylesheets are split into
      themes, each contained within their own directory on the server. Within
      each theme directory is a “css” folder containing two files:
      “layout.css” and “typography.css”, with obvious semantics.
      -->
    <link
      id="css-layout"
      rel="stylesheet"
      type="text/css"
      media="all"
      href="/static/theme/default/css/layout.css"
      />
    <link
      id="css-typography"
      rel="stylesheet"
      type="text/css"
      media="all"
      href="/static/theme/default/css/typography.css"
      />
  {% endblock stylesheets %}

  {% block javascript %}
    <!--
      jQuery, a multi-purpose JavaScript framework. We grab Google CDN's jQuery,
      and fall back on our own if Google is not available.
      -->
    <script
      type="text/javascript"
      src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"
      ></script>
    <script type="text/javascript">
      !window.jQuery && document.write(unescape('%3Cscript type="text/javascript" src="/static/lib/jquery/1.7.1/jquery.min.js"%3E%3C/script%3E'));
    </script>

    <!--
      Capture jQuery to remain compatible with other frameworks and libraries,
      but without removing it from the global scope.
      -->
    <script type="text/javascript">
      var $j = jQuery.noConflict();
    </script>

    <!--
      Modernizr HTML5 detection library tests the browser for support of new
      HTML5 features, and adds classes to the <html> element allowing us to
      target specific browser functionality in our stylesheets.
      -->
    <script
      type="text/javascript"
      src="/static/lib/modernizr/2.0.6/modernizr.js"
      ></script>

    <!--
      DD_belatedPNG is a Javascript library that sandwiches PNG image support
      into IE6 without much fuss. For more information, check out
      <http://www.dillerdesign.com/experiment/DD_belatedPNG/>.

      FIXME: Update the id's and class's this fixes.
      -->
    <!--[if IE 6]>
    <script
      type="text/javascript"
      src="/static/js/ie6/ie.belatedpng.js"
      ></script>
    <script type="text/javascript">
      $j(document).ready(function () {
        DD_belatedPNG.fix('.pngbg, .shadow-bottom, .post-comments a, #fcolumns_container, #footer img, .logo-header-wrap img, .fboxgraphic img ');
      });
    </script>
    <![endif]-->

    <!--
      This is a variation of the official analytics snippet:
        <http://mathiasbynens.be/notes/async-analytics-snippet>

      FIXME: Sign up for analytics, replace XXXXXX-XX with our site's ID and
             uncomment to put it into effect.
      -->
    <!--
    <script>
      var _gaq = [['_setAccount', 'UA-XXXXXX-XX'], ['_trackPageview']];
      (function(d, t) {
        var g = d.createElement(t),
        s = d.getElementsByTagName(t)[0];
        g.async = true;
        g.src = '//www.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g, s);
      })(document, 'script');
    </script>
    -->
  {% endblock javascript %}
{% endblock head %}</head>

<!--
  The id="6horizons-com" is useful for creating CSS that can be shared across
  multiple company projects, but with some web site specific callouts.
  -->
<body
  id="{% block body_id %}6horizons-com{% endblock %}"
  class="{% block body_class %}{% endblock %}"
  >{% block body %}

  <div id="site">
    <div id="page">
      <div id="page-canvas">

        <header class="{% if not settings.SITE_WIDE_SEARCH %}no-{% endif %}search">
          <div id="header-canvas">

            <div id="logo-header">
              <div id="logo-header-wrap">
                {% block logo_header %}
                  <a class="logo-header-link" href="/" title=
                  "6horizons"><img class="logo-header-image" src=
                  "{% block logo_header_uri %}/static/img/logo-header.png{% endblock %}"
                  alt="6horizons" /></a>
                {% endblock logo_header %}
              </div><!-- #logo-header-wrap -->
            </div><!-- #logo-header -->

            {% if settings.SITE_WIDE_SEARCH %}
              {% block header_search_bar %}
                <form
                  class="search"
                  method="get"
                  action="/search/"
                  onsubmit="this.submit();return false;"
                  >{% csrf_token %}
                  <fieldset>
                    <input
                      id="search-header"
                      type="text"
                      value=""
                      name="s"
                      class="searchfield"
                      autofocus
                      />

                    <input
                      type="image"
                      class="submit btn"
                      name="submit"
                      src="/static/img/search-btn.png"
                      alt="Go"
                      />
                  </fieldset>
                </form><!-- .search -->
              {% endblock header_search_bar %}
            {% endif %}

            <ul id="menu-primary-nav" class="menu menu-primary-nav">
              {% block primary_nav %}
                {% if user.is_authenticated %}
                  <li id="menu-item-sign-out" class="menu-item">
                    <a href="{% url auth_logout %}">Sign out</a></li>
                  <li>|</li>
                  <li id="menu-item-account" class="menu-item">
                    <a href="/account/">{{ user.username }}</a></li>
                  <li>|</li>
                  <li id="menu-item-dashboard" class="menu-item">
                    <a href="/">Dashboard</a></li>
                {% else %}
                  <li id="menu-item-sign-in" class="menu-item">
                    <a href="{% url auth_login %}">Sign in</a></li>
                  <li>|</li>
                  <li id="menu-item-register" class="menu-item">
                    <a href="{% url registration_register %}">Register</a></li>
                  <li>|</li>
                  <li id="menu-item-explore" class="menu-item">
                    <a href="/">Explore</a></li>
                {% endif %}
                <li>|</li>
                <li id="menu-item-upload" class="menu-item">
                  <a href="/+upload/">Upload</a></li>
              {% endblock primary_nav %}
            </ul><!-- #menu-primary-nav -->

            <div class="clear"></div>
          </div><!-- id="header-canvas" -->
        </header>

        <div id="content-body">
          {% block content %}{% endblock content %}
        </div><!-- #content-body -->

        <div id="content-footer">
          {% block content_footer %}{% endblock content_footer %}
        </div><!-- #content-footer -->
      </div><!-- #page-canvas -->

      <div id="footer-push"></div>
    </div><!-- #page -->

    {% block footer %}
      {% include "section.footer.html" %}
    {% endblock footer %}
  </div><!-- id="site" -->

  <!--
    -->
  <script type="text/javascript">
    $j(document).ready(function(){
      if (!("autofocus" in document.createElement("input"))) {
        document.getElementById("search-header").focus();
      }
    })
  </script>

  <!--
    Div Class Clear – Without the Markup. The following JavaScript re-inserts
    div class clear tags where needed in the markup, allowing us to focus on
    other, more important things. Source code taken with modification from:
    <http://www.latentmotion.com/div-class-clear-without-the-markup/>
    -->
  <script type="text/javascript">
    $j(document).ready(function(){
      $j("*:last-child").filter(function(){
        return $j(this).css('float') != 'none';
      }).parent().append("<div class='clear'></div>");
    });
  </script>
{% endblock body %}</body>

</html>

{% comment %}--------------------------------------------------------------===
  End of File
===-----------------------------------------------------------{% endcomment %}
